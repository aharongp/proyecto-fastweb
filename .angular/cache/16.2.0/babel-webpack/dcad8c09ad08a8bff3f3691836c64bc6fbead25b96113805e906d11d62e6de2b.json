{"ast":null,"code":"var _class;\nimport { Renderer2, ElementRef } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { DOCUMENT } from '@angular/common';\nimport { Location } from '@angular/common';\nimport { filter } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"./shared/navbar/navbar.component\";\nimport * as i4 from \"./shared/footer/footer.component\";\nvar didScroll;\nvar lastScrollTop = 0;\nvar delta = 5;\nvar navbarHeight = 0;\nexport class AppComponent {\n  constructor(renderer, router, document, element, location) {\n    this.renderer = renderer;\n    this.router = router;\n    this.document = document;\n    this.element = element;\n    this.location = location;\n  }\n  hasScrolled() {\n    var st = window.pageYOffset;\n    // Make sure they scroll more than delta\n    if (Math.abs(lastScrollTop - st) <= delta) return;\n    var navbar = document.getElementsByTagName('nav')[0];\n    // If they scrolled down and are past the navbar, add class .headroom--unpinned.\n    // This is necessary so you never see what is \"behind\" the navbar.\n    if (st > lastScrollTop && st > navbarHeight) {\n      // Scroll Down\n      if (navbar.classList.contains('headroom--pinned')) {\n        navbar.classList.remove('headroom--pinned');\n        navbar.classList.add('headroom--unpinned');\n      }\n      // $('.navbar.headroom--pinned').removeClass('headroom--pinned').addClass('headroom--unpinned');\n    } else {\n      // Scroll Up\n      //  $(window).height()\n      if (st + window.innerHeight < document.body.scrollHeight) {\n        // $('.navbar.headroom--unpinned').removeClass('headroom--unpinned').addClass('headroom--pinned');\n        if (navbar.classList.contains('headroom--unpinned')) {\n          navbar.classList.remove('headroom--unpinned');\n          navbar.classList.add('headroom--pinned');\n        }\n      }\n    }\n    lastScrollTop = st;\n  }\n  ngOnInit() {\n    var navbar = this.element.nativeElement.children[0].children[0];\n    this._router = this.router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe(event => {\n      if (window.outerWidth > 991) {\n        window.document.children[0].scrollTop = 0;\n      } else {\n        window.document.activeElement.scrollTop = 0;\n      }\n      this.renderer.listen('window', 'scroll', event => {\n        const number = window.scrollY;\n        if (number > 150 || window.pageYOffset > 150) {\n          // add logic\n          navbar.classList.add('headroom--not-top');\n        } else {\n          // remove logic\n          navbar.classList.remove('headroom--not-top');\n        }\n      });\n    });\n    this.hasScrolled();\n  }\n}\n_class = AppComponent;\n_class.ɵfac = function AppComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i2.Location));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-root\"]],\n  hostBindings: function AppComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"scroll\", function AppComponent_scroll_HostBindingHandler($event) {\n        return ctx.hasScrolled($event);\n      }, false, i0.ɵɵresolveWindow);\n    }\n  },\n  decls: 3,\n  vars: 0,\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-navbar\")(1, \"router-outlet\")(2, \"app-footer\");\n    }\n  },\n  dependencies: [i1.RouterOutlet, i3.NavbarComponent, i4.FooterComponent],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["Renderer2","ElementRef","Router","NavigationEnd","DOCUMENT","Location","filter","didScroll","lastScrollTop","delta","navbarHeight","AppComponent","constructor","renderer","router","document","element","location","hasScrolled","st","window","pageYOffset","Math","abs","navbar","getElementsByTagName","classList","contains","remove","add","innerHeight","body","scrollHeight","ngOnInit","nativeElement","children","_router","events","pipe","event","subscribe","outerWidth","scrollTop","activeElement","listen","number","scrollY","i0","ɵɵdirectiveInject","i1","i2","selectors","hostBindings","AppComponent_HostBindings","rf","ctx","$event","ɵɵresolveWindow","ɵɵelement"],"sources":["/home/aharon/Documents/technologies-proof/Angular/proyecto-fastweb/src/app/app.component.ts","/home/aharon/Documents/technologies-proof/Angular/proyecto-fastweb/src/app/app.component.html"],"sourcesContent":["import { Component, OnInit, Inject, Renderer2, ElementRef, ViewChild, HostListener } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { DOCUMENT } from '@angular/common';\nimport { LocationStrategy, PlatformLocation, Location } from '@angular/common';\nimport { filter, Subscription } from 'rxjs';\n\nvar didScroll;\nvar lastScrollTop = 0;\nvar delta = 5;\nvar navbarHeight = 0;\n\n@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n    private _router: Subscription;\n\n    constructor( private renderer : Renderer2, private router: Router, @Inject(DOCUMENT,) private document: any, private element : ElementRef, public location: Location) {}\n    @HostListener('window:scroll', ['$event'])\n    hasScrolled() {\n\n        var st = window.pageYOffset;\n        // Make sure they scroll more than delta\n        if(Math.abs(lastScrollTop - st) <= delta)\n            return;\n\n        var navbar = document.getElementsByTagName('nav')[0];\n\n        // If they scrolled down and are past the navbar, add class .headroom--unpinned.\n        // This is necessary so you never see what is \"behind\" the navbar.\n        if (st > lastScrollTop && st > navbarHeight){\n            // Scroll Down\n            if (navbar.classList.contains('headroom--pinned')) {\n                navbar.classList.remove('headroom--pinned');\n                navbar.classList.add('headroom--unpinned');\n            }\n            // $('.navbar.headroom--pinned').removeClass('headroom--pinned').addClass('headroom--unpinned');\n        } else {\n            // Scroll Up\n            //  $(window).height()\n            if(st + window.innerHeight < document.body.scrollHeight) {\n                // $('.navbar.headroom--unpinned').removeClass('headroom--unpinned').addClass('headroom--pinned');\n                if (navbar.classList.contains('headroom--unpinned')) {\n                    navbar.classList.remove('headroom--unpinned');\n                    navbar.classList.add('headroom--pinned');\n                }\n            }\n        }\n\n        lastScrollTop = st;\n    };\n    ngOnInit() {\n      var navbar : HTMLElement = this.element.nativeElement.children[0].children[0];\n      this._router = this.router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe((event: NavigationEnd) => {\n          if (window.outerWidth > 991) {\n              window.document.children[0].scrollTop = 0;\n          }else{\n              window.document.activeElement.scrollTop = 0;\n          }\n          this.renderer.listen('window', 'scroll', (event) => {\n              const number = window.scrollY;\n              if (number > 150 || window.pageYOffset > 150) {\n                  // add logic\n                  navbar.classList.add('headroom--not-top');\n              } else {\n                  // remove logic\n                  navbar.classList.remove('headroom--not-top');\n              }\n          });\n      });\n      this.hasScrolled();\n    }\n}\n","<app-navbar></app-navbar>\n<router-outlet></router-outlet>\n<app-footer></app-footer>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}